
<div class="container">
  <h1 class="text-center m-t-30 m-b-30">Festivals</h1>
  <div class="alert alert-success alert-dismissible" role="alert" ng-show="alertMessage"><button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>{{alertMessage.msg}}</div>
  <div class="row m-y-30">
    <div class="col-sm-2"><button class="btn btn-primary" ng-click="newFestival()"><i class="fa fa-plus" aria-hidden="true"></i> New Festival</button></div>
    <div class="col-sm-8">
      <div class="input-group">
        <span class="input-group-addon"><i class="glyphicon glyphicon-search"></i></span>
        <input type="text" class="form-control" ng-model="search">
      </div>
      <p ng-show="search"> Du suchst gerade nach: {{search}}</p>
    </div>
  </div>
  <table class="table table-hover" ng-controller="FestivalListCtrl">
    <tr>
      <th class="col-sm-2" ng-click="sort('festivalName')">Festival
        <span class="glyphicon sort-icon" ng-show="sortKey=='festivalName'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span>
      </th>
      <th class="col-sm-2" ng-click="sort('address.locality')">Stadt
        <span class="glyphicon sort-icon" ng-show="sortKey=='address.locality'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span>
      </th>
      <th class="col-sm-2" ng-click="sort('date.deadline')">Bewerbungsfrist
        <span class="glyphicon sort-icon" ng-show="sortKey=='date.deadline'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span>
      </th>
      <th class="col-sm-2" ng-click="sort('date.contactType')">Bewerbungsart
        <span class="glyphicon sort-icon" ng-show="sortKey=='date.contactType'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span>
      </th>
      <th class="col-sm-2" ng-click="sort('address.distance')">Entfernung
        <span class="glyphicon sort-icon" ng-show="sortKey=='address.distance'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span>
      </th>
    </tr>
    <tr dir-paginate="festival in festivals | orderObjectBy:getSortValue:reverse | filter: search | itemsPerPage:50 " current-page="currentPage" ng-click="redirect(festival)">
      <td>{{festival.festivalName}}</td>
      <td>{{festival.address.locality}}</td>
      <td>{{festival.date.deadline | date:'dd MMMM'}}</td>
      <td>{{festival.date.contactType}}</td>
      <td>{{festival.address.distance}}</td>
    </tr>
  </table>
  <div class="col-sm-12 text-center">
  <dir-pagination-controls
     max-size="5"
     direction-links="true"
     boundary-links="true"
    on-page-change="onPageChange(newPageNumber, oldPageNumber)" >
  </dir-pagination-controls>
</div>
</div>
